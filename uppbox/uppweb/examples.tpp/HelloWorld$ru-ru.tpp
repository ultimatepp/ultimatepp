topic "Slicing HelloWorld U++ example";
[2 $$0,0#00000000000000000000000000000000:Default]
[l288;i1120;a17;O9;~~~.1408;2 $$1,0#10431211400427159095818037425705:param]
[a83;*R6 $$2,5#31310162474203024125188417583966:caption]
[b83;*4 $$3,5#07864147445237544204411237157677:title]
[i288;O9;C2 $$4,6#40027414424643823182269349404212:item]
[b42;a42;2 $$5,5#45413000475342174754091244180557:text]
[l288;b17;a17;2 $$6,6#27521748481378242620020725143825:desc]
[l321;t246;C@5;1 $$7,7#20902679421464641399138805415013:code]
[b2503;2 $$8,0#65142375456100023862071332075487:separator]
[*@(0.0.255)2 $$9,0#83433469410354161042741608181528:base]
[t4167;C2 $$10,0#37138531426314131251341829483380:class]
[l288;a17;*1 $$11,11#70004532496200323422659154056402:requirement]
[i417;b42;a42;O9;~~~.416;2 $$12,12#10566046415157235020018451313112:tparam]
[b167;C2 $$13,13#92430459443460461911108080531343:item1]
[i288;a42;O9;C2 $$14,14#77422149456609303542238260500223:item2]
[*@2$(0.128.128)2 $$15,15#34511555403152284025741354420178:NewsDate]
[l321;*C$7;2 $$16,16#03451589433145915344929335295360:result]
[l321;b83;a83;*C$7;2 $$17,17#07531550463529505371228428965313:result`-line]
[l160;t4167;*C+117 $$18,5#88603949442205825958800053222425:package`-title]
[2 $$19,0#53580023442335529039900623488521:gap]
[t4167;C2 $$20,20#70211524482531209251820423858195:class`-nested]
[b50;2 $$21,21#03324558446220344731010354752573:Par]
[{_}%RU-RU 
[s0; &]
[s0; Исторически почти каждый язык или 
среда программирования имеют различного 
вида примеры типа `"Hello world!`", и Ultimate`+`+ 
не является исключением :). В этом коротком 
уроке я постараюсь объяснить Вам 
основы U`+`+ приложения с помощью HelloWorld 
U`+`+ примера.&]
[s0; Когда вы запустите приложение HelloWorld 
и выберете пункт меню `"File`->About`" вы 
увидите что`-то вроде этого:&]
[s0; &]
[s0;= 
@@image:2162&1572
۱ā㗔мʬ¨˂Ҹç
ѐДޙݍٙϷʎƘ㌱ǎ
Ϊ󜙲ٜӶ⹿쮨͋慾󢲹ܶ
⹤чֶהͫ⹢նזոټ콮הڲ׶
͛߶ﭛۋβټӶܸѢщĔ
Ѣĉ訑ĔѢ΢ΟԄĔѢĉدѢщĔ
Ѣĉ訑ĔѢɿĔѢĉČ͘ѢĉĔѢ梶
ؽĔѢʂĉ񖈒шĉĔĉĔįŔѢĉ
ĔӪѻăѢıŃѢщĔѢĉ訑ĔѢĉ
ĔѢĔѢĉ줍ĔѢĉĬĀĄ
Ģ̂󁀨ĄظÓ码Ŋĕл
ݜ쾙̇厧ϘҒ뤰؜̅ـ
ǑĄĀĘ肀̧
Ǒ𔑀Ā㉈؈͢Ā
ёآĀĄ
ĄĀĄ
ĀĄĀĄ
ȐĀĄĀĘ
ĀĄĈĄ
ĀĄĀ
ĄĀĄȐĀ
ĄĀĘĀ
ĄĈĄĀ
ĄĀĄĀ
ĄȐĀĄ
ĀĘĀĄ
ĈĄː˱ܤնƘԮꖌէ뤑
싾ᝍ䑓̼ȯ񍨯ǭ
ץݓٓʎǞُݴӧ
ƾ➧͜㧙ɷɾߟɽξ
߼ٽϛۻ⮓˗ܯ򀉟ɾُ
ǒ덗Ŝ篿
͞ωϥɟ״ǯʎ鏓
ȫĜ؉׳ߛӒ኷㍏
Þĭއɳ񶇝ɻ
ΎӟƟѓم
ܧœϼϞٓə׳ǞىӲǦ
̉ǟɂץշܵιϻ
ϻϼϜ͟ޘܿ뿷݉ϧ
ٿ̿Ӄщήߝ޸ޑ
⊉ϧޕצ؄آɢ͈ĉݢĔ셉ص
ĔߒןՓՓѢĉϑդՖ̩İ󙒐Ѣĉ
ĥɢ֭۝̒ӹщĔĵĠĔѢ
Ô֭ۯʓӹ震Ȣĉ잆єǭҢӉ
ܩΥ񧏷߻磈ۡѢĉצϸڐ릒ⷛ
͒Ѣĉ׬㒱坉󵈳٢щ鼖Īâ뾇擟
ĔѻŞĬɢ㷫Ѣ颎߆בѢ
ĉكѢđ⑈ՓѢĉ͹ꂒѢĉ⾪ƒ
ѢʢĉĘĪٲ֟ĬģəĚĪٲ֟ĬģəĚĪٲ֟Ĭ
əĚĪٲ֟ĬŬڽ˶ĚĪյߤФ̤ݲ
ݲݲȢթݲ䤢ݲڌ́ߒЦ饑
ĎȳЍ֍ĤĬڽ˦Ɏ̙ފռ祻
ٽĪɚƚĎμאǢˢ˶І˛
ʯˮˢˢ֞Ď܉򍅛ﶆ饑Ӷ˥˫
ǣƴͿݙҢ🖉ȁ龖뀽䣑饑
܉ĎĔѼшօŢ҈ȯصݫ
ĪġѢȯصŴ֡ލ⧤ɕաñ˫Ѣ
҈ȯص媓ј̊ﭤժĒͰƘף饑ђ㌱ퟑۚɊѼ薈
ɋĪ䥇ĦŢԷޒꋭُɁƘݰĪ䃇񠔗
ĴƘȯصҢ݇Ǐ׵׸ҦԽ
Ƣҫڕ١ğ﬑̜ȯΑ랏
Ⳓј饑ޥ˻˾깯ޛĬڲଽƧ
ۇɧӧݗϿι军כϺغ
ͱ㧝ھڛΑϷÙ߽μەǏϼꩧ
Ф囎պƒѱܲӟڵ
尿λ͎Ӝө涏ܽξۛˣ힫㿕Ϊ
ͷԞ汰󾎎чᴟɾ՞֜ƽ
ͮۓμϹކر㣱ֺ۟ɴˇ󴻼羣
þՄ։䞯Ӗˌ֚͝Ȱ󾈛
ɣ饑趭ǟʈ󘴰ݦ槦͸ٙݡ
ڳæͻǵΛ
礑飑۶շ鏝⇐ߵնϼܽᾳ
̭많ōኞėӎɽҚӝĤĬھ
Ē綽׶̇䞟哟ݭڽڝ
ԄӂҘӒ󗩟ֿϻ
ỿϵ̵߬ѝ⏕ͥӖ۷ֻ
Ԛݝ胻ť󁚁ö̩ܧϻ몟ɶϻ×щ״Ƿ
ٜ流ڞ׬Щއ
ߢÛŊ۲ՙ髶롐ﴗƜͱݷ
ʼėջݽ٦ӊɤ޹璳ޖ͞
ĬԼ񴳏﯈ۙ۟ͯ桚
ŞĪջ龟ۿҖϮ톾Ƈޅ
ݻʹ̽쥏ϷۯԷңȟصڞ
Ťޖӏ˷䃟מ
ӹئ叞羬ۭ۟ÑԷޒ٘
Ƣˢ֛ޥĳ饑ٟիĪջƘ
饑֣ٿիɤìħջј䤢ݲƘߢȢ
͒ĤլϢȢ͒ĤլϢȢ͒ĤլϢȢ͒
ĤլϢȢ͒ĤլϢȢ͒ĤլϢȢ͒Ĥլ
ϢȢ͇ƛÞ뒈ճ䬷뾒͠뤑﹑لƒꖌ֤
ڒ숉أȞ⍤쬙٤ƒꇖۢ漖Ȣ͒
ӱޤأص½ḳȷՍ䬷ݯȢ⍤
լ楛ߝ¢Ȣ͒޾ډĚĪٲۓ妥
׾ρ숉أصӑ͊ʹܒ뤑ο쉤
¢Ȣ͒ޚº߮ĚɳĪٲެοͥǕِҒƒÌۢ
ɢ⍤լ۾ĶěĬ؏ƒꖌِۢꖌ
ړ숉أщصѵِƒꖌڏ䓆
ĚĪٲ͟հ≍լϢȢ֛͒≍լϢȢ֛͒ύ
Íز֟Ĭճ䀬أصˆۓ߿ጱƈǤⵎ㌱́﷙Ą
ĀĄȐĀĄ
ĀĘĀ
ĄĈĄĀ
ĄĀĄТ̡
Тщ믝ĀĀĄ
ࠑĀĀ
ĄȐĀĄĀ
㉈ϴС𤢀ȀĜ㉈膀
Ą膀𔑀ĀĈ쨢
Āۼ̀ĀĄ
ĀĄȐĀĄ
ĀĘĀ
ĄĈĄ̀Ĝ
㉈¤㉈ĄĀĄ
ĀĄĀĄ
ȐĀĄļۤĄ
㐈ޮĘـِ΢Ţݚ矇
Ҍ둧ӽĄٛӎؽǢ̂ݦ̠
̃ↀńĀƘ㌱
򢞲Ɣ㌱ߍ
&]
[s0; &]
[s0; Давайте изучим исходный код HelloWorld 
U`+`+ приложения:&]
[s0; &]
[s7; #include <CtrlLib/CtrlLib.h>&]
[s7; &]
[s7; class HelloWorld : public TopWindow `{&]
[s7; -|MenuBar menu;&]
[s7; -|StatusBar status;&]
[s7; -|&]
[s7; -|void FileMenu(Bar`& bar);&]
[s7; -|void About();&]
[s7; &]
[s7; public:&]
[s7; -|typedef HelloWorld CLASSNAME;&]
[s7; &]
[s7; -|HelloWorld();&]
[s7; `};&]
[s7; &]
[s7; void HelloWorld`::About()&]
[s7; `{&]
[s7; -|PromptOK(`"`{`{1`@5 `[`@9`= This is the`]`::`@2 `[A5`@0 Ultimate```+```+ 
Hello world sample`}`}`");&]
[s7; `}&]
[s7; &]
[s7; void HelloWorld`::FileMenu(Bar`& bar)&]
[s7; `{&]
[s7; -|bar.Add(`"About..`", THISBACK(About));&]
[s7; -|bar.Separator();&]
[s7; -|bar.Add(`"Exit`", THISBACK(Close));&]
[s7; `}&]
[s7; &]
[s7; HelloWorld`::HelloWorld()&]
[s7; `{&]
[s7; -|AddFrame(menu);&]
[s7; -|AddFrame(status);&]
[s7; -|menu.Add(`"File`", THISBACK(FileMenu));&]
[s7; -|status `= `"Welcome to the Ultimate`+`+ !`";&]
[s7; `}&]
[s7; &]
[s7; GUI`_APP`_MAIN&]
[s7; `{&]
[s7; -|SetLanguage(LNG`_ENGLISH);&]
[s7; -|HelloWorld().Run();&]
[s7; `}&]
[s0;3 &]
[s0; Много еще неизвестных Вам инструментов, 
но давайте не будем торопиться, разберем 
код построчно.&]
[s0; &]
[s0; В первую очередь, мы подключаем `"CtrlLib/CtrlLib.h`";
 этот заголовок включает в себя большую 
часть U`+`+ виджетов. Все U`+`+ виджеты 
порождены от базового класса [^topic`:`/`/CtrlCore`/src`/Ctrl`$en`-us`#`:`:Ctrl`:`:class^ C
trl], поэтому их также называют `"Ctrls`" 
(контролы).&]
[s0; &]
[s0; Следующий шаг `- наследуем HelloWorld от 
класса [^topic`:`/`/CtrlCore`/src`/TopWindow`$en`-us`#`:`:TopWindow`:`:class^ T
opWindow], который представляет из себя 
базовое окно, интерфейс работы с которым 
не зависит от особенностей операционной 
системы. Класс содержит множество 
инструментов, таких как, например, 
заголовок, кнопки закрытия/свертывания 
окна и т. п. Иначе говоря, это наше 
стандартное окно, ;).&]
[s0; &]
[s0; Окно HelloWorld имеет главное меню и строку 
статуса, которые в классе описаны 
как два private члена.&]
[s0; &]
[s7; MenuBar menu;&]
[s7; StatusBar status; &]
[s7; &]
[s0; &]
[s0; В конструкторе HelloWorld с помощью [^topic`:`/`/CtrlCore`/src`/Ctrl`$en`-us`#`:`:Ctrl`:`:AddFrame`(`:`:CtrlFrame`&`)^ A
ddFrame] функции добавлены главное меню 
и строка статуса. AddFrame добавляет данные 
элементы как [^topic`:`/`/CtrlCore`/srcdoc`/AboutFrames`$en`-us^ Frames] 
(рамки), помещая их на границу окна 
и уменьшая видимую область окна. И 
главное меню, и строка статуса знают 
где должно быть место их размещения, 
когда они используются в качестве 
рамок (главное меню вверху, строка 
статуса внизу).&]
[s0; &]
[s0; Следующая строка в конструкторе 
очень интересна:&]
[s0; &]
[s7; menu.Add(`"File`", THISBACK(FileMenu));&]
[s0; &]
[s0; и заслуживает более подробного объяснения. 
U`+`+ использует [^topic`:`/`/Core`/src`/Callbacks`$en`-us^ callbacks] 
`- callbacks могут быть описаны как весьма 
обобщенная форма указателей на функции. 
Каждый Callback представляет из себя 
некоторое действие (обычно вызов 
некоторой определенной функции или 
же метода класса), которое может быть 
вызвано в любой момент. Сейчас, &]
[s0; &]
[s7; THISBACK(x)&]
[s0; &]
[s0;  это макрос, который разворачивается 
в&]
[s0; &]
[s7; callback(this, `&CLASSNAME`::[@3 x][@0 )]&]
[s0;*C@3 &]
[s0; где x `- это название метода, который 
мы хотим вызывать этим действием. 
Функция [^topic`:`/`/Core`/src`/Callbacks`$en`-us`#`:`:callback`(OBJECT`*`,void`(METHOD`:`:`*`)`(P1 p1`)`)^ c
allback] `- шаблонная функция, для ее работы 
необходимо определить переменную 
CLASSNAME. Каждый U`+`+ класс, который использует 
[^topic`:`/`/Core`/src`/Callbacks`$en`-us`#`:`:THISBACK`(x`)^ THISBACK] 
макрос содержит следующую строку&]
[s0; &]
[s7; typedef HelloWorld CLASSNAME;&]
[s0;3 &]
[s0;3 &]
[s0; То есть&]
[s0;3 &]
[s7; menu.Add(`"File`", THISBACK(FileMenu));&]
[s0; &]
[s0; добавляет меню `"File`" в главное меню 
нашего приложения и, когда пользователь 
выберет это меню, U`+`+ вызовет соответствующу
ю функцию из нашего HelloWorld&]
[s0;3 &]
[s7; void HelloWorld`::FileMenu(Bar`& bar)&]
[s7; `{&]
[s7; -|bar.Add(`"About..`", THISBACK(About));&]
[s7; -|bar.Separator();&]
[s7; -|bar.Add(`"Exit`", THISBACK(Close));&]
[s7; `}&]
[s0;3 &]
[s0; Что произойдет теперь: после выбора 
`"File`" меню пользователем, U`+`+ создает 
раскрывающееся меню и затем вызывает 
FileMenu функцию, параметром которой 
является адрес только что созданного 
главного меню. После этого FileMenu добавляет 
`"About`" и `"Exit`" в меню, с разделителем 
между ними (Separator), и назначает пунктам 
вызовы функций из нашего HelloWorld объекта 
(более детальное обсуждение указателей 
на функции [^topic`:`/`/CtrlLib`/srcdoc`/MenuCb`$en`-us^ здесь]).&]
[s0;@5;3 &]
[s0; Последняя строка конструктора&]
[s0;3 &]
[s7; status `= `"Welcome to the Ultimate`+`+ !`";&]
[s0; &]
[s0; Класс StatusBar имеет перегруженный оператор 
`=, который устанавливает текст нашей 
строки статуса. Красиво и чисто.&]
[s0; &]
[s0; Последняя функция HelloWorld класса&]
[s0;3 &]
[s7; void HelloWorld`::About()&]
[s7; `{&]
[s7; -|PromptOK(`"`{`{1`@5 `[`@9`= This is the`]`::`@2 `[A5`@0 Ultimate```+```+ 
Hello world sample`}`}`");&]
[s7; `}&]
[s0;3 &]
[s0; Очевидно, когда пользователь кликает 
по `"File`"`->`"About`" в меню вызывается именно 
эта функция. PromtOK `- удобная глобальная 
функция, описанная в `"CtrlLib`\RichText.h`", 
отображает простой диалог со значком 
информации и кнопкой OK. Также, этот 
диалог содержит информационное сообщение 
для пользователя, и этот текст является 
параметром PromtOK функции. Как вы заметили, 
есть странные символы в нашем информационно
м сообщении, это [^topic`:`/`/RichText`/srcdoc`/QTF`$en`-us^ QTF 
коды] (QTF `- родной формат U`+`+ форматированных 
текстов).&]
[s0; &]
[s0; И в конце мы имеем &]
[s0; &]
[s7; GUI`_APP`_MAIN&]
[s7; `{&]
[s7; -|SetLanguage(LNG`_ENGLISH);&]
[s7; -|HelloWorld().Run();&]
[s7; `}&]
[s0; &]
[s0; Как вы догадываетесь, каждая программа 
должна иметь точку входа, где начинается 
ее выполнение. U`+`+ код начинается 
с макроса GUI`_APP`_MAIN. Этот макрос инициализируе
т U`+`+ GUI приложение для соответствующей 
ОС платформы, а также завершает работу 
U`+`+ среды.&]
[s0; Каждая хорошая среда разработки 
U`+`+ имеет хорошую [^topic`:`/`/Core`/srcdoc`/i18n`$en`-us^ подде
ржку] мультиязычных программ, но для 
примера основным языком мы установили 
Английский.&]
[s0; Далее мы создаем один экземпляр (объект) 
класса HelloWorld и вызываем [^topic`:`/`/CtrlCore`/src`/TopWindow`$en`-us`#`:`:TopWindow`:`:Run`(bool`)^ R
un] функцию, определенную в TopWindow классе, 
которая запустит наше приложение[@5 .]&]
[s0;3 &]
[s0; ]